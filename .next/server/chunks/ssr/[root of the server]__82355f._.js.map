{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/(protected)/create/page.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(protected)/create/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(protected)/create/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuS,GACpU,qEACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/(protected)/create/page.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(protected)/create/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(protected)/create/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmR,GAChT,iDACA"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/constants.ts"],"sourcesContent":["export const creditsToDollars = 50"],"names":[],"mappings":";;;AAAO,MAAM,mBAAmB"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/lib/stripe.ts"],"sourcesContent":["'use server'\nimport Stripe from 'stripe'\nimport { auth } from \"@clerk/nextjs/server\";\nimport { redirect } from \"next/navigation\";\nimport { creditsToDollars } from '@/constants';\n\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY!, {\n    apiVersion: '2024-10-28.acacia',\n})\n\n// 50 credits per dollar\n\n\nexport async function createCheckoutSession(credits: number) {\n    const { userId } = await auth();\n\n    if (!userId) {\n        throw new Error('User not found');\n    }\n\n    const session = await stripe.checkout.sessions.create({\n        payment_method_types: ['card'],\n        line_items: [\n            {\n                price_data: {\n                    currency: 'usd',\n                    product_data: {\n                        name: `${credits} Dionysus Credits`,\n                    },\n                    unit_amount: Math.round((credits / creditsToDollars) * 100),\n                },\n                quantity: 1,\n            },\n        ],\n        customer_creation: 'always',\n        mode: 'payment',\n        success_url: `${process.env.NEXT_PUBLIC_URL}/create`,\n        cancel_url: `${process.env.NEXT_PUBLIC_URL}/billing`,\n        client_reference_id: userId.toString(),\n        metadata: {\n            credits,\n        },\n    });\n\n    redirect(session.url!);\n}\n"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;;AAFA;AACA;;;;;;;AAGA,MAAM,SAAS,IAAI,sJAAA,CAAA,UAAM,CAAC,QAAQ,GAAG,CAAC,iBAAiB,EAAG;IACtD,YAAY;AAChB;AAKO,eAAe,sBAAsB,OAAe;IACvD,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IAE5B,IAAI,CAAC,QAAQ;QACT,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;QAClD,sBAAsB;YAAC;SAAO;QAC9B,YAAY;YACR;gBACI,YAAY;oBACR,UAAU;oBACV,cAAc;wBACV,MAAM,GAAG,QAAQ,iBAAiB,CAAC;oBACvC;oBACA,aAAa,KAAK,KAAK,CAAC,AAAC,UAAU,gHAAA,CAAA,mBAAgB,GAAI;gBAC3D;gBACA,UAAU;YACd;SACH;QACD,mBAAmB;QACnB,MAAM;QACN,aAAa,6DAA+B,OAAO,CAAC;QACpD,YAAY,6DAA+B,QAAQ,CAAC;QACpD,qBAAqB,OAAO,QAAQ;QACpC,UAAU;YACN;QACJ;IACJ;IAEA,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,GAAG;AACxB;;;IAhCsB;;AAAA,+OAAA"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}